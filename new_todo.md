# 5-Tab Navigation Redesign - Comprehensive Implementation

- [-] phase1-navigation-structure: PHASE 1 (Week 1-2): Set up new navigation structure - Create AppTabParamList types for 5 tabs (Home, Support, Tether, Wellness, More) and all sub-navigators 🔴
  _Foundation phase critical for all other work. New TypeScript types: AppTabParamList, SupportStackParamList, WellnessStackParamList, TetherStackParamList, MoreStackParamList. Remove old types for Therapy, Peer, Journal tabs._
- [ ] phase1-routing-config: PHASE 1: Configure routing and deep linking - Update deep link mappings (Therapy/AITherapy → Support/AITherapy, Journal/WriteEntry → Wellness/Journal/WriteEntry) 🔴
  _Critical for preserving user bookmarks and notification links. All old deep links must redirect to new locations. Test notification deep links, email links, external links._
- [ ] phase1-component-architecture: PHASE 1: Establish component architecture - Create MainTabNavigator with Tab.Navigator, set up basic screen components for each tab 🔴
  _Use React Navigation Bottom Tabs. TabBar specs: 68px height, elevation 8, 6px padding. Active color: primary.main, Inactive: text.tertiary. Icon size: 24px standard, 42px for Tether._
- [ ] phase1-testing-framework: PHASE 1: Set up testing framework - Configure Jest, React Native Testing Library, create test utilities for navigation testing 🔴
  _Test all 5 tabs render, Tether button special styling, crisis button navigation from all tabs, cross-tab state management, accessibility compliance._
- [ ] phase2-standard-user-home: PHASE 2 (Week 3-4): Design Standard User Home Screen - Crisis button (large), mood check-in (5 emotions), recommendations, quick access cards (2x2 grid), emergency resources 🔴
  _Header: 'ASTRAL CORE', dynamic subtitle based on time/mood. Color: calming blues/greens (#3B82F6, #10B981). Crisis button: #EF4444, 60px touch target. Mood buttons: one-tap logging with trend visualization._
- [ ] phase2-volunteer-home: PHASE 2: Design Volunteer Home Screen - Crisis queue alert, volunteer stats (people helped, hours, thank yous), active assignments, training resources, wellness check 🟡
  _Header: 'VOLUNTEER DASHBOARD', subtitle: 'Thank you for helping'. Show: peer tether connections, group moderation duties, crisis chat standby. Include self-care reminder for volunteer burnout prevention._
- [ ] phase2-therapist-home: PHASE 2: Design Therapist Home Screen - Urgent client alerts, today's schedule, client management, professional tools, continuing education 🟡
  _Header: 'THERAPIST PORTAL'. Features: upcoming appointments with video links, active client list, progress tracking, session notes access, assessment forms, treatment templates, CE opportunities._
- [ ] phase2-crisis-worker-home: PHASE 2: Design Crisis Worker Home Screen - Priority queue (real-time), active crisis chats, protocol quick access, shift statistics, self-care reminder 🟡
  _Header: 'CRISIS WORKER STATION', subtitle: 'Lives depend on you'. Queue shows: position, wait time, current capacity (X/5). Tools: suicide assessment, de-escalation scripts, emergency procedures. Track: people helped, call duration, successful de-escalations._
- [ ] phase2-admin-home: PHASE 2: Design Admin Home Screen - System alerts, platform statistics, moderation queue, analytics dashboard, admin tools 🟡
  _Header: 'ADMIN DASHBOARD'. Stats: active users, crisis interventions today, system uptime. Moderation: reported content, user reports, violations. Tools: user management, content moderation, system config._
- [ ] phase2-crisis-button: PHASE 2: Implement Crisis Button component - Large/compact sizes, urgent flag, 44px minimum touch target, high contrast (#EF4444), accessibility labels 🔴
  _Two sizes: large (home screen, 60px+ touch), compact (other screens, 44px min). Emergency icon 48px/32px. Text: 'CRISIS SUPPORT' + 'Immediate help • Available 24/7'. Navigate to Support/CrisisSupport with source tracking._
- [ ] phase2-quick-access-cards: PHASE 2: Build Quick Access Cards component - 2x2 grid layout, color-coded categories (AI Therapy, Peer Support, Wellness Tools, Tether Connection) 🟡
  _Card interface: title, description, icon, route, color, optional badge. Colors: Primary (#3B82F6) for therapy, Secondary (#10B981) for wellness, Tertiary (#8B5CF6) for community. Contextual descriptions change based on usage patterns._
- [ ] phase2-mood-checkin: PHASE 2: Build Mood Check-in component - 5-emotion scale with icons, one-tap logging, trend visualization, personalized insights 🟡
  _Emotions: Great, Good, Okay, Low, Crisis. Icon-based for accessibility. Quick entry (single tap). Show mood trends over time with charts. Generate insights: 'Your mood tends to improve after meditation'._
- [ ] phase3-support-hub-navigator: PHASE 3 (Week 5-6): Create Support Hub Navigator - Stack navigator with screens: SupportHub, AITherapy, HumanSupport, PeerSupport, ChatSession, CommunityPosts, GroupChat 🔴
  _Consolidates old Therapy + Peer tabs. SupportStackParamList with proper params: AITherapy{specialistId?}, ChatSession{specialistId, specialistName}, CommunityPosts{category?}, GroupChat{roomId?}._
- [ ] phase3-support-hub-screen: PHASE 3: Build Support Hub main screen - Crisis section (always visible), AI Therapy section (7 specialists), Human Support section (therapists), Peer Support section (community) 🔴
  _Sections: 🔴 Crisis Support, 🤖 AI Therapy (7 specialists), 👥 Human Support (licensed therapists + crisis professionals), 🌟 Peer Support (community + mentors + events), 📚 Resources. Each section expands or navigates to subsection._
- [ ] phase3-ai-therapy-migration: PHASE 3: Migrate AI Therapy features to Support tab - Move all 7 AI specialists (Dr. Calm, Hope, Phoenix, Connect, Freedom, Rest, Wise) and tools (Mood Tracker, Thought Record, Activity Planner) 🔴
  _Old: Therapy/AITherapy → New: Support/AITherapy. Specialists: Anxiety, Depression, Trauma, Relationships, Addiction, Sleep, General. Tools section: mood tracking, thought records, behavioral activation, session history._
- [ ] phase3-therapist-directory-migration: PHASE 3: Migrate Therapist Directory to Support tab - Move therapist directory, booking, appointments, video calls to Human Support section 🟡
  _Old: Therapy/TherapistDirectory → New: Support/HumanSupport/TherapistDirectory. Features: directory search, therapist profiles, appointment booking, calendar, video call access._
- [ ] phase3-peer-features-migration: PHASE 3: Migrate Peer Support features to Support tab - Move peer chat, support groups, community posts, anonymous messaging, mentor matching 🔴
  _Old: Peer/* → New: Support/PeerSupport/*. Features: peer chat rooms, support groups, community posts (#Anxiety, #Depression, etc), anonymous messaging, peer mentors, community events. Include moderation features._
- [ ] phase3-community-posts: PHASE 3: Build Community Posts subsection - Post types (success stories, check-ins, resources, Q&A), topic categories, moderation (anonymous posting, reporting, crisis detection) 🟡
  _Post types: success stories, daily check-ins, resource sharing, Q&A, peer encouragement. Topics: #Anxiety, #Depression, #Recovery, #Relationships, #SelfCare, #Motivation. Moderation: anonymous posting option, content guidelines, report system, AI crisis detection._
- [ ] phase3-crisis-support-section: PHASE 3: Build Crisis Support section in Support tab - Crisis text line, crisis chat, emergency contacts, immediate help resources 🔴
  _Always visible at top of Support Hub. Features: 988 Suicide & Crisis Lifeline (quick dial), crisis text line, crisis chat (connects to crisis workers), emergency contacts, immediate coping strategies. Red (#EF4444) accent color._
- [ ] phase4-wellness-navigator: PHASE 4 (Week 7-8): Create Wellness Navigator - Stack navigator with screens: WellnessDashboard, Meditation, Journal, CBTTools, DBTSkills, ProgressTracking 🔴
  _WellnessStackParamList. Screens: WellnessDashboard (hub), Meditation{type?}, Journal{mode: daily|gratitude|mood}, CBTTools, DBTSkills, ProgressTracking. Integrates old Journal tab features._
- [ ] phase4-wellness-dashboard: PHASE 4: Build Wellness Dashboard - Today's snapshot (mood, stress, energy, sleep), Mindfulness section, Journal section (integrated), CBT/DBT tools, Progress tracking 🔴
  _Header: 'Wellness Tools', subtitle: 'Nurture your mind & soul'. Sections: 📊 Today's Snapshot, 🧘 Mindfulness (meditations, breathing, timer), 📔 Journal (daily, gratitude, mood, dream, prompts), 🧠 CBT/DBT Tools, 📈 Progress, 🎵 Sound Therapy._
- [ ] phase4-journal-migration: PHASE 4: Migrate Journal features to Wellness tab - Move daily entries, gratitude journal, mood journal, dream journal, reflection prompts from old Journal tab 🔴
  _Old: Journal/* → New: Wellness/Journal/*. All journal types become subsections. Modes: daily (free-form), gratitude (daily practice), mood (emotion tracking), dream (sleep patterns), prompts (guided reflection). Migrate all existing journal entries with category: 'wellness_journal'._
- [ ] phase4-meditation-section: PHASE 4: Build Meditation section - Guided meditations (anxiety, sleep, focus, loving-kindness), breathing exercises (4-7-8, box breathing, PMR), mindfulness timer 🟡
  _Meditation types: guided (with audio tracks), breathing (with visual guides), timer (customizable). Categories: anxiety relief, sleep meditations, focus & concentration, loving-kindness. Include: sound therapy, binaural beats, nature soundscapes._
- [ ] phase4-cbt-dbt-tools: PHASE 4: Organize CBT/DBT tools section - CBT (thought challenging, cognitive restructuring, behavioral experiments), DBT (distress tolerance, emotion regulation, interpersonal effectiveness, mindfulness) 🟡
  _CBT section: thought challenging worksheets, cognitive restructuring exercises, behavioral experiments tracker. DBT section: distress tolerance skills, emotion regulation techniques, interpersonal effectiveness scripts, mindfulness practices. Include skill practice tracker._
- [ ] phase4-progress-tracking: PHASE 4: Build Progress Tracking section - Mood trends over time, wellness streak counters, goal achievement tracking, AI-powered personal insights 🟡
  _Features: mood trend charts (line/bar graphs), wellness streaks (meditation, journaling, mood tracking), goal achievement progress bars, AI insights ('You meditate more on Mondays', 'Journaling improves your mood by 23%'). Export functionality for therapist sharing._
- [ ] phase5-tether-center-button: PHASE 5 (Week 9-10): Build enhanced Tether center button - 76px diameter, -40px offset, 6px white border, elevation 16 shadow, 1.15x scale on active, connection status indicator 🔴
  _Special center tab button. Styling: 76px circle, absolute position -40px top, primary color (#3B82F6), 6px white border, elevation 16 with primary glow. Icon: 42px link icon. Features: connection indicator (green dot), alert badge (red dot), ripple animation on press, subtle pulse when connections active._
- [ ] phase5-tether-dashboard: PHASE 5: Build Tether Dashboard - Active tether status, quick communication (pulse, message, emergency), shared goals, crisis features, resource library, analytics 🔴
  _Header: 'ASTRAL TETHER', subtitle: 'Your Support Connection'. Sections: 🔗 Connection Status (current info, strength, last contact), 💬 Quick Comm (send pulse, quick message, emergency alert), 🎯 Shared Goals (daily tracking, weekly challenges, achievements), 🚨 Crisis Tether, 📚 Resources, 📊 Analytics._
- [ ] phase5-tether-connection-matching: PHASE 5: Implement Tether connection matching - Smart algorithm matches users with compatible support needs, interests, availability, crisis history 🟡
  _Matching algorithm considers: support needs (anxiety, depression, etc), personality compatibility, time zone/availability, crisis history similarity, mutual interests, preferred communication style. Show match score and compatibility reasons._
- [ ] phase5-pulse-system: PHASE 5: Build Pulse System - Quick emotional check-ins between tethered users, pulse inbox, pulse notifications, emoji-based quick responses 🟡
  _Pulse = quick emotional check-in. Send: single tap emotion (😊😐😔🆘), receive notification instantly. Pulse inbox shows timeline of exchanges. Quick responses: 'I'm here', 'Sending support', 'Need to talk?'. Crisis pulse (🆘) triggers alert and professional notification if no response._
- [ ] phase5-crisis-escalation: PHASE 5: Implement Crisis Tether escalation - Automatic professional intervention when crisis detected, emergency buddy system, support requests 🔴
  _Crisis detection: keywords in messages, crisis pulse (🆘), no response to check-ins for 24h. Escalation: notify crisis workers, suggest professional resources, alert emergency contacts (if authorized). Emergency buddy: connect with backup peer if primary tether unavailable._
- [ ] phase5-goal-sharing: PHASE 5: Build Goal Sharing system - Mutual accountability for mental health goals, daily/weekly challenges, achievement celebrations, progress sharing 🟡
  _Shared goals: daily (meditate, journal, mood check), weekly (therapy session, exercise 3x, social activity), custom. Accountability: check-in reminders, progress updates to tether partner. Celebrations: achievement animations, congratulation messages, streak badges._
- [ ] phase5-connection-analytics: PHASE 5: Build Connection Analytics - Tether strength over time, support given/received metrics, mutual growth tracking, connection health score 🟢
  _Metrics: messages exchanged, pulses sent/received, goals completed together, time connected. Visualizations: tether strength graph (stronger with regular contact), support balance (giving vs receiving), mutual growth (both users' wellness improving). Health score: 0-100 based on engagement._
- [ ] phase6-more-tab-structure: PHASE 6 (Week 11-12): Build More Tab menu structure - Organized card-based sections: Account, Learning & Growth, Professional Tools, Community, Safety, Platform 🔴
  _Profile header at top (avatar, name, role, stats). 6 main sections with card grids. Each card: icon (24px), title (16px bold), subtitle (13px), route. Sections: 👤 Account (4 items), 🎓 Learning (3 items), 💼 Professional (role-based), 🏘️ Community (3 items), 🛡️ Safety (3 items), ⚙️ Platform (3 items)._
- [ ] phase6-account-section: PHASE 6: Build Account section - Profile & Settings, Privacy & Security, Notification Settings, Accessibility Settings 🟡
  _Account cards: Profile (manage account, preferences), Privacy (data control, visibility), Notifications (alerts, reminders, quiet hours), Accessibility (font size, high contrast, screen reader, reduced motion)._
- [ ] phase6-learning-section: PHASE 6: Build Learning & Growth section - Education & Courses (mental health courses, workshops), Self-Help Resources (articles, videos, podcasts), Progress & Achievements (streaks, badges, certificates) 🟡
  _Education: mental health courses, wellness workshops, skill-building modules, achievement tracking. Resources: article library (categorized), video content, podcasts, guided exercises. Progress: learning streaks, skill badges, completion certificates, shareable achievements._
- [ ] phase6-professional-tools: PHASE 6: Build role-based Professional Tools section - For Therapists (client management, session notes, treatment plans), Crisis Workers (protocols, assessment forms), Volunteers (training, guidelines), Admins (analytics, moderation) 🟡
  _Show only for professional roles. Therapists: client list, session notes, treatment plans, professional resources. Crisis Workers: crisis protocols, de-escalation tools, assessment forms, training. Volunteers: dashboard, training modules, peer guidelines, recognition. Admins: platform analytics, user management, content moderation, system config._
- [ ] phase6-community-section: PHASE 6: Build Community section - Events & Groups (support meetings, workshops, activities), Volunteer Opportunities (peer support, crisis chat, moderation), Community Guidelines (rules, safety, reporting) 🟡
  _Events: support group meetings (virtual/in-person), wellness workshops, peer-led activities, community challenges. Volunteer: peer support roles, crisis chat volunteering, community moderation, content creation. Guidelines: platform rules, safety policies, reporting procedures._
- [ ] phase6-safety-section: PHASE 6: Build Safety & Crisis Resources section - Safety Planning (personal plan, crisis contacts, coping strategies), Emergency Resources (hotlines, hospital finder), Crisis History (episodes, interventions, recovery) 🔴
  _Safety Planning: create/edit personal safety plan, crisis contact list, coping strategies library, warning signs tracker. Emergency: crisis hotlines (988, local), emergency contacts (quick dial), hospital finder (GPS-based), legal resources. History: past crisis episodes, intervention records, recovery tracking (for insights)._
- [ ] phase6-platform-section: PHASE 6: Build Platform & Support section - Help & Tutorials, Feedback & Suggestions, Technical Support, Privacy Policy, Terms of Service, About Astral Core 🟢
  _Help: how-to tutorials, feature walkthroughs, FAQs. Feedback: suggestion form, feature requests, bug reports. Support: contact support, troubleshooting. Legal: privacy policy, terms of service, data handling. About: mission, team, platform info, version number._
- [ ] data-migration-preferences: Data Migration: Migrate user preferences - Map old navigation preferences to new structure (lastActiveTab, favoriteAISpecialist, wellness activities, journal prefs → wellness prefs) 🔴
  _Preference mapping: Therapy tab → Support tab, Journal tab → Wellness/Journal, Peer tab → Support/PeerSupport. Merge journalPreferences into preferredWellnessActivities with 'journal_' prefix. Preserve all notification settings, crisis mode, accessibility preferences._
- [ ] data-migration-journal: Data Migration: Migrate journal entries - Move all journal entries to wellness context, add migration metadata 🔴
  _Update all journal entries: category = 'wellness_journal', migrated = true, originalLocation = 'journal_tab'. Preserve entry types (daily, gratitude, mood, dream), timestamps, mood tags, privacy settings. Run migration script during app update._
- [ ] data-migration-community: Data Migration: Migrate community posts - Update post routing from peer_tab to support_peer_section 🟡
  _Update all community posts and group chats: old route 'peer_tab' → new route 'support_peer_section'. Update deep links in notifications. Preserve post categories, timestamps, reactions, comments._
- [ ] testing-navigation-rendering: PHASE 7 (Week 13-14): Unit Testing - Test navigation rendering (all 5 tabs render, Tether button special styling, correct icon sizes) 🔴
  _Test suite: MainTabNavigator renders 5 tabs, Tether button position absolute top -40px, icon sizes (24px standard, 42px Tether), tab bar 68px height, active/inactive colors correct._
- [ ] testing-feature-migration: Testing: Test feature migration - Verify all features accessible from new locations (AI Therapy in Support, Journal in Wellness) 🔴
  _Test navigation paths: Support/AITherapy works, Support/PeerSupport/Posts works, Wellness/Journal/WriteEntry works. Test deep links redirect correctly. Test state preservation when navigating._
- [ ] testing-crisis-access: Testing: Test crisis accessibility - Verify crisis button navigates from any tab, notifications work across tabs, <2 taps to crisis resources 🔴
  _Test from all tabs: Home, Support, Tether, Wellness, More. Crisis button should navigate to Support/CrisisSupport with source tracking. Test keyboard navigation, screen reader. Target: 100% success rate, <2 seconds._
- [ ] testing-accessibility: Testing: Accessibility compliance - Test screen reader labels, color contrast ratios (4.5:1 minimum), touch target sizes (44px minimum), reduced motion support 🔴
  _WCAG AA compliance required. Test: all buttons have accessibility labels/hints, contrast ratios meet 4.5:1 (primary vs background, text vs background), touch targets ≥44px, animations respect prefers-reduced-motion. Test with TalkBack (Android) and VoiceOver (iOS)._
- [ ] testing-performance: Testing: Performance optimization - Test tab switching speed (<2s), memory usage (20% reduction target), crash rate (<0.1%) 🟡
  _Benchmarks: tab switching <2 seconds, screen render <300ms, memory usage <200MB, crash rate <0.1%. Use React.lazy() for tab screens, memoize expensive components, profile with React DevTools, test on low-end devices._
- [ ] testing-cross-tab-integration: Testing: Cross-tab integration - Test state management across tabs (mood data from Wellness shows on Home, Tether updates Support peer section) 🟡
  _Test state sharing: mood check-in on Home updates Wellness analytics, Tether connection status shows in Support/PeerSupport, journal streaks show on Home quick stats. Use Redux/Context for shared state._
- [ ] testing-role-based: Testing: Role-based navigation - Test each user role sees appropriate home screen and More tab content (standard, volunteer, therapist, crisis-worker, admin) 🔴
  _Test all 5 roles: Standard (standard home, no professional tools), Volunteer (volunteer home, volunteer tools in More), Therapist (therapist home, therapist tools), Crisis Worker (crisis home, crisis tools), Admin (admin home, all tools). Verify professional sections hidden for standard users._
- [ ] polish-animations: Polish: Implement smooth animations - Tab switch cross-fade, center Tether button press (scale 1.15x + haptic), badge animations, micro-interactions 🟢
  _Animations: tab switch 300ms cross-fade, Tether button press scale 1.15x + haptic feedback + ripple, notification badge bounce-in, card press scale 0.98x. Use React Native Animated API, respect prefers-reduced-motion._
- [ ] polish-user-migration-guide: Polish: Create in-app migration guide - Show dismissible tooltips on first visit to each tab explaining where features moved 🟡
  _First-time experience after update: show modal 'We reorganized the app!', then dismissible tooltips: 'AI Therapy is now in Support tab', 'Your journal is now in Wellness', 'Find community in Support/Peer Support'. Track tooltip dismissal in AsyncStorage._
- [ ] polish-color-palette: Polish: Implement design color palette - Primary (#3B82F6), Success (#10B981), Warning (#F59E0B), Error (#EF4444), Purple (#8B5CF6), neutrals 🟢
  _Colors: Primary Blue #3B82F6 (trust), Warm Green #10B981 (healing), Soft Coral #F59E0B (energy), Gentle Purple #8B5CF6 (wisdom), Crisis Red #EF4444 (urgency). Neutrals: BG #FFFFFF/#F8FAFC/#F1F5F9, Text #1E293B/#64748B/#94A3B8, Border #E2E8F0/#CBD5E1._
- [ ] polish-typography: Polish: Implement typography scale - Hero 32px bold, Section 20px semibold, Card 16px semibold, Body 16px/14px/13px regular, Button 14px semibold, Tab 10px semibold 🟢
  _Typography hierarchy: Hero Title 32px Bold (role-specific), Section Title 20px SemiBold, Card Title 16px SemiBold, Body Large/Medium/Small 16/14/13px Regular, Caption 12px Medium, Button 14px SemiBold, Tab Label 10px SemiBold (12px for Tether)._
- [ ] documentation-navigation-docs: Documentation: Update developer docs - Document new navigation structure, component hierarchy, state management patterns, feature locations 🟢
  _Document: navigation structure (5 tabs, sub-navigators), component architecture (tab bar, center button, role-specific screens), state management (Redux slices for each tab), deep linking (old → new mappings), testing approach._
- [ ] documentation-style-guide: Documentation: Create navigation style guide - Tab bar specs, button sizes, colors, typography, spacing, animations, icon names 🟢
  _Living document: tab bar (68px height, 6px padding, elevation 8), center button (76px, -40px offset, 6px border, elevation 16), colors (exact hex values), typography (sizes, weights), icons (Material Icons, semantic names), animations (duration, easing)._
- [ ] metrics-navigation-efficiency: Metrics: Measure navigation efficiency - Track taps to reach features (target: 40% reduction), user comprehension (target: 90% success rate) 🟡
  _Analytics: track taps from Home to each feature, measure time to find specific features, success rate for finding features (user testing), compare old vs new navigation. Targets: 40% fewer taps, 90% comprehension, <2 seconds to crisis._
- [ ] metrics-engagement: Metrics: Measure engagement improvements - Track Tether usage (target: 60% increase), feature discovery (target: 35% increase), Support utilization (target: 25% increase) 🟡
  _Track: Tether connections created (+60% target), peer messages sent, wellness tools usage (+35% target), AI therapy sessions (+25% target), community posts viewed, journal entries written. Compare week-over-week after migration._
- [ ] metrics-crisis-accessibility: Metrics: Measure crisis accessibility - Verify 100% users can access crisis support within 2 taps, track crisis button usage, response times 🔴
  _Critical metric: 100% users reach crisis support in ≤2 taps. Track: crisis button taps (from which screens), time from tap to crisis resource, crisis chat connection time. Alert if any user takes >2 taps to reach crisis resources._